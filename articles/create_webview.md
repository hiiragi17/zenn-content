---
title: "ReactNativeã§Webviewã‚’å°å…¥ã™ã‚‹ã€‚"
emoji: "ğŸ“±"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['reactnative']
published: false
---

# ã¯ã˜ã‚ã«

React Nativeã‚¢ãƒ—ãƒªé–‹ç™ºã§ã€ŒWebãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ãŸã„ã€ã¨æ€ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
ä»Šå›ã¯**WebViewã®ä»•çµ„ã¿ã‚’ç†è§£ã™ã‚‹**ãŸã‚ã€GitHubã®ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’ä¾‹ã«è¡¨ç¤ºã—ã¦ã¿ã¾ã™ã€‚

## WebViewã¨ã¯ï¼Ÿ

WebView ã¨ã¯ã‚¹ãƒãƒ›ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªï¼ˆiOS/Android OSï¼‰ç‹¬è‡ªã®çµ±ä¸€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã€Google Chrome ã‚„ Safari ãªã©ã¨ã¯é•ã†ä»•æ§˜ã§ Web ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã—ã€
ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
**ã€Œã‚¢ãƒ—ãƒªã®ä¸­ã«ãƒŸãƒ‹ãƒ–ãƒ©ã‚¦ã‚¶ã‚’åŸ‹ã‚è¾¼ã‚€ã€** ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

ReactNativeã«ã¯ã€
**react-native-webview**
ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚’ä½¿ãˆã°ç°¡å˜ã«Webviewã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ï¼

https://github.com/react-native-webview/react-native-webview

### WebViewã§ã§ãã‚‹ã“ã¨

- å¤–éƒ¨Webã‚µã‚¤ãƒˆã®è¡¨ç¤º
- åˆ©ç”¨è¦ç´„ã‚„ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®è¡¨ç¤º
- Webãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ©ãƒ•ã‚„ãƒãƒ£ãƒ¼ãƒˆã®åŸ‹ã‚è¾¼ã¿

æ—¢å­˜ã® Web ãƒšãƒ¼ã‚¸ã‚’é–‹ãéš›ã«è‡ªç¤¾ã‚¢ãƒ—ãƒªã‹ã‚‰é›¢ã‚Œã¦ Chrome ã‚„ Safariï¼ˆåˆ¥ã®ã‚¢ãƒ—ãƒªï¼‰ã‚’èµ·å‹•ã™ã‚‹ã‚ˆã‚Šã‚‚ã€
ã‚¢ãƒ—ãƒªå†…ãƒ–ãƒ©ã‚¦ã‚¶ã§ãã®ã¾ã¾åŒã˜ã‚¢ãƒ—ãƒªã«æ»åœ¨ã—ã¦ã‚‚ã‚‰ã†ã»ã†ãŒæ»åœ¨æ™‚é–“ãŒä¼¸ã³ã€
è³¼è²·è¡Œå‹•ã«ã¤ãªãŒã‚Šã‚„ã™ã„ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚
ECã‚µã‚¤ãƒˆãªã©ã§ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚

## å®Ÿè·µï¼šGitHubã®ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚‹

â€»ReactNativeã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒã•ã‚Œã¦ã„ã‚‹ã€
ã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰ææ¡ä»¶ã«ãªã‚Šã¾ã™ã€‚

### Step 1: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install react-native-webview
```

### Step 2: åŸºæœ¬çš„ãªå®Ÿè£…

- LoginFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(Webviewã®è¨­å®š)

```javascript
import React, { useRef, useState } from 'react';
import { View } from 'react-native';
import { WebView } from 'react-native-webview';

interface LoginFormProps {
  onLoginSuccess?: () => void;
  onClose?: () => void;
}

export const LoginForm: React.FC = ({
  onLoginSuccess,
  onClose,
}) => {
  const [isError, setIsError] = useState(false);

  // URLãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«å‘¼ã°ã‚Œã‚‹
  const handleWebViewNavigationStateChange = (navState: any) => {
    console.log('ç¾åœ¨ã®URL:', navState.url);
    
    // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸåˆ¤å®šï¼šç‰¹å®šã®URLã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚ŒãŸã‹ç¢ºèª
    if (navState.url.includes('dashboard') || navState.url.includes('success')) {
      // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼
      onLoginSuccess?.();
    }
  };

  return (
    
      <WebView
        source={{
          uri: 'https://github.com/login',
        }}
        startInLoadingState={true}
        onError={() => setIsError(true)}
        onNavigationStateChange={handleWebViewNavigationStateChange}
      />
    
  );
};
```

- ãƒ›ãƒ¼ãƒ ç”»é¢ï¼ˆãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã®ç®¡ç†ï¼‰

```javascript
import { View, StyleSheet } from 'react-native';
import { LoginForm } from '@/components/ui/login-form';
import { useState } from 'react';

export default function HomeScreen() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);

  // ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†å¾Œã¯åˆ¥ã®ç”»é¢ã‚’è¡¨ç¤º
  if (isLoggedIn) {
    return (
        {/* ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã“ã“ã«è¡¨ç¤º */}
    );
  }

  // ãƒ­ã‚°ã‚¤ãƒ³å‰ã¯WebViewã§GitHubãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
  return (
    
      <LoginForm
        onLoginSuccess={() => {
          console.log('ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼');
          setIsLoggedIn(true);
        }}
        onClose={() => {
          console.log('ãƒ­ã‚°ã‚¤ãƒ³ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«');
        }}
      />
    
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
  },
  successContainer: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#fff',
  },
  placeholder: {
    flex: 1,
  },
});
```

ãã‚Œã ã‘ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![GitHubãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸](/images/webview/github_login.png)

## ã¾ã¨ã‚

WebViewã¯ã€Œã‚¢ãƒ—ãƒªã®ä¸­ã®å°ã•ãªãƒ–ãƒ©ã‚¦ã‚¶ã€ã¨ã—ã¦ã€
é©åˆ‡ã«ä½¿ãˆã°é–‹ç™ºã‚’åŠ¹ç‡åŒ–ã§ãã‚‹ä¾¿åˆ©ãªæ©Ÿèƒ½ã§ã™ã€‚
ãŸã ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒé‡è¦ãªæ©Ÿèƒ½ã«ã¯ä½¿ç”¨ã›ãšã€
é©æé©æ‰€ã§æ´»ç”¨ã—ã¾ã—ã‚‡ã†ï¼

## å‚è€ƒãƒªãƒ³ã‚¯

ã“ã®è¨˜äº‹ã¯ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¦æ›¸ã‹ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚

- [react-native-webviewå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/react-native-webview/react-native-webview)

- [WebViewã¨ã¯ï¼Ÿãƒ¡ãƒªãƒƒãƒˆã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ãƒ—ãƒªã¨ã®é•ã„ã‚’ã‚ã‹ã‚Šã‚„ã™ãè§£èª¬
](https://backapp.co.jp/blog/1505)
